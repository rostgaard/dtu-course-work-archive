let 
   x      : 4;
   output : 1;
   rec proc fac(n,o)
     if <>(!n,0)
       then o := *(!n,!o); 
	     n := -(!n,1);
         call fac(n,o)
     fi    
in call fac(x, output);
   if <>(!output, 24) then
      print "(failed assertion!)"
   else
     print "(ok)"
   fi
end